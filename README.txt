Make sure you have the following on your computer before everything:

1. python 3 (open terminal and type "python3 --version". You are fine as long as the result isn't "command not found")
2. pip (type "python3 -m pip --version" in terminal. The result cannot be "No module named pip")
3. packages "cma" and "numpy" (type "python3 -m pip list" in terminal, and see that cma, and numpy are in the "Package" column)

Google How to install python/pip if either is missing; for missing packages type "python3 -m pip install cma(or numpy)" in terminal



Experiment procedures:

open the project folder and run physical_runner.py, it will first ask you if this session is a continuation from the previous one, the answer should be n if you are starting from generation 0 (which would be the case if you are just starting to evolve a genome); then it will prompt you to enter fitness of the xth genome of the yth generation; to obtain the fitness to fill in the prompt, you will do the following:

1. in the project folder, you should see some files named gen-y-[0,1,2...].genome generated by physical_runner.py, one of which should be genome-y-x.genome

2. copy genome-y-x.genome into a SD card and rename it genome.txt

3. insert the SD card onto Arduino

4. open Treebot/Treebot.ino in the project folder; go to the global variable left_cylinder (line 70) and reset it to be "close", then reset right_cylinder (line 71) to be "far"

5. put the left object on the close mark and the right object the far mark

6. connect Arduino to your computer, upload Treebot.ino, and open serial monitor

7. now that Treebot is running, you should see information of each evaluation step printed on serial monitor; after step 200 finishes, you should see the fitness value for this trial printed on the bottom line; jot this down somewhere (this is NOT the fitness you will enter into physical_runner...not yet)

8. open Treebot/Treebot.ino in the project folder; go to the global variable left_cylinder (line 70) and reset it to be "far", then reset right_cylinder (line 71) to be "close"

9. put the left object on the far mark and the right object the close mark

10. connect Arduino to your computer, upload Treebot.ino, and open serial monitor

11. wait after step 200 finishes to obtain this trial's fitness; average this fitness with the previous fitness to obtain the fitness you will enter into physical_runner

keep doing these steps until all genomes for this generation have been evaluated, then make a directory named gen-y and store all gen-y-[whatever].genome into this directory; new files named gen-[y+1]-[0,1,2...] should also be generated upon the completion of this generation, and physical_runner will prompt you to enter fitnesses for these new genomes; well...now you know what to do




The process can be quite lengthy, so if you decide you've had enough for a day, you may pause the experiment and return on another day. However, you MUST be at the end of a generation when you leave, i.e. you have entered all fitnesses for a generation and new genomes for the next generation have just been generated, but you have yet to enter fitness for any of the new genomes. It would be preferable if you leave the terminal running physical_runner open, but if you decide to close it, you will need to answer y when you run physical_runner the next time and it asks you if the session is a continuation from the previous one.
